<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Online Exam - Salman Unique Notes</title>
<link rel="stylesheet" href="css/style.css" />

<style>
/* START PAGE */
.start-box {
  text-align:center;
  padding:40px 20px;
}
.start-box h1 { font-size:28px; font-weight:800; margin-bottom:10px; }
.start-box h2 { opacity:0.9; margin-bottom:20px; }

.select-box {
  max-width:400px;
  margin:20px auto;
  text-align:left;
}
.select-box label {
  font-weight:700;
  font-size:18px;
}
.select-box select {
  width:100%;
  margin-top:6px;
  padding:10px;
  border-radius:10px;
  border:none;
  background:#fff;
  font-size:16px;
  font-weight:600;
}

.start-btn {
  background:#007bff; padding:12px 22px; border-radius:10px;
  color:#fff; font-weight:800; cursor:pointer; border:none; margin-top:20px;
}

/* EXAM PAGE */
.exam-box { display:none; }
.question-card {
  background:rgba(255,255,255,0.06);
  padding:20px; border-radius:15px;
  border:1px solid rgba(255,255,255,0.1);
  margin-bottom:20px;
}
.question-text {
  font-size:20px;
  font-weight:800;
  color:#4db8ff;
  margin-bottom:12px;
}
.option {
  background:rgba(255,255,255,0.06);
  padding:10px; border-radius:10px; cursor:pointer;
  margin-top:10px; transition:.2s;
  color:#fff;
}
.option:hover { background:rgba(255,255,255,0.12); }
.selected { background:rgba(0,200,120,0.35)!important; border:1px solid #00f090; }

/* NAVIGATION BUTTONS */
.nav-buttons {
  display:flex; justify-content:space-between; margin-top:20px;
}
.nav-btn {
  padding:10px 18px; background:#007bff; border:none;
  border-radius:10px; color:#fff; font-weight:800; cursor:pointer;
}
.nav-btn[disabled] { opacity:0.4; pointer-events:none; }

/* RESULT PAGE */
.result-page { display:none; }
.result-card {
  background:rgba(255,255,255,0.06);
  padding:15px;
  border-radius:12px;
  margin-bottom:15px;
  border:1px solid rgba(255,255,255,0.08);
}
.correct { background:rgba(0,255,100,0.3)!important; border:1px solid #00ff6a; }
.wrong { background:rgba(255,0,0,0.35)!important; border:1px solid #ff4c4c; }
.print-btn {
  background:#00b0ff; padding:12px 22px; border:none;
  color:#fff; font-weight:800; border-radius:10px; cursor:pointer;
  margin-top:20px;
}

/* PRINT */
@media print {
  body * { visibility:hidden; }
  #printArea, #printArea * { visibility:visible; }
  #printArea { position:absolute; left:0; top:0; width:100%; }
}
</style>
</head>

<body>

<!-- HEADER -->
<header class="topbar">
  <div class="left"><img src="logo.png" class="site-logo" /></div>
  <div class="center"><div class="site-title">Salman Unique Notes</div></div>
  <div class="right"><button class="menu-btn" onclick="openMenu()">☰</button></div>
</header>

<!-- START SCREEN -->
<main class="page-content" id="startScreen">
<div class="start-box">
  <h1>Start Your Online Test</h1>

  <div class="select-box">
    <label>क्लास चुनें:</label>
    <select id="classSelect">
      <option value="10">Class 10</option>
    </select>
  </div>

  <div class="select-box">
    <label>सब्जेक्ट चुनें:</label>
    <select id="subjectSelect">
      <option value="">Select Subject</option>
      <option value="maths">Maths</option>
      <option value="science">Science</option>
      <option value="sst">Social Science</option>
      <option value="english">English</option>
      <option value="nonhindi">Non-Hindi</option>
      <option value="urdu">Urdu</option>
      <option value="maithili">Maithili</option>
      <option value="sanskrit">Sanskrit</option>
    </select>
  </div>

  <button class="start-btn" onclick="startExam()">Start Test</button>
</div>
</main>

<!-- EXAM SCREEN -->
<main class="page-content exam-box" id="examScreen">

  <h2 id="progressText">Question 1 / 100</h2>

  <div class="question-card">
    <div class="question-text" id="questionText"></div>
    <div id="optionsBox"></div>
  </div>

  <div class="nav-buttons">
    <button class="nav-btn" id="prevBtn" onclick="prevQuestion()">Previous</button>
    <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">Next</button>
  </div>

</main>

<!-- RESULT SCREEN -->
<main class="page-content result-page" id="resultScreen">
  <h2>Result Summary</h2>

  <div id="printArea"></div>

  <button class="print-btn" onclick="window.print()">Print</button>
</main>

<!-- SUBJECT WISE DATA (BANKS) -->
<script src="data/banks.js"></script>

<script>
let questions = [];
let index = 0;
let answers = {};

function startExam() {
  let subject = document.getElementById("subjectSelect").value;
  if (subject === "") {
    alert("कृपया एक सब्जेक्ट चुनें!");
    return;
  }

  questions = BANKS[subject]; // load subject question bank
  index = 0;
  answers = {};

  document.getElementById("startScreen").style.display = "none";
  document.getElementById("examScreen").style.display = "block";

  loadQuestion();
}

function loadQuestion() {
  const q = questions[index];

  document.getElementById("progressText").innerText =
    `Question ${index + 1} / ${questions.length}`;

  document.getElementById("questionText").innerText = q.q;

  let opts = "";
  q.options.forEach((opt, i) => {
    const selected = answers[index] === i ? "selected" : "";
    opts += `<div class="option ${selected}" onclick="selectOption(${i}, this)">${opt}</div>`;
  });

  document.getElementById("optionsBox").innerHTML = opts;

  document.getElementById("prevBtn").disabled = index === 0;
  document.getElementById("nextBtn").innerText =
    index === questions.length - 1 ? "Submit" : "Next";
}

function selectOption(i, el) {
  answers[index] = i;

  document.querySelectorAll(".option").forEach(o => o.classList.remove("selected"));
  el.classList.add("selected");
}

function nextQuestion() {
  if (index === questions.length - 1) {
    showResult();
    return;
  }
  index++;
  loadQuestion();
}

function prevQuestion() {
  if (index > 0) {
    index--;
    loadQuestion();
  }
}

function showResult() {
  document.getElementById("examScreen").style.display = "none";
  document.getElementById("resultScreen").style.display = "block";

  let html = "";
  questions.forEach((q, i) => {
    let userAns = answers[i];
    let correctAns = q.ans;

    let className =
      userAns === correctAns ? "correct" : "wrong";

    html += `
      <div class="result-card ${className}">
        <h3>Q${i + 1}. ${q.q}</h3>
        <p><strong>Your Answer:</strong> ${q.options[userAns] || "—"}</p>
        <p><strong>Correct Answer:</strong> ${q.options[correctAns]}</p>
      </div>
    `;
  });

  document.getElementById("printArea").innerHTML = html;
}
<!-- html head या body के अंत में -->
<script src="js/banks.js"></script>
<script src="js/exam-renderer.js"></script>

</body>
</html>
